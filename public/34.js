webpackJsonp([34],{"10kX":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("2yrZ"),o=r.n(n),s=r("gvVL"),i=r("2gGM"),a=(r.n(i),r("e7x4")),l=r.n(a);t.default={components:{ModalLayout:o.a},mixins:[s.a],props:{id:{type:String,required:!0}},data:function(){return{form:new i.Form({client_id:null,client_name:null,customer_id:null,customer_name:null,invoice_date:null,amount:null,notes:null}),invoice_date_modal:!1,customers:[],clients:[],unknownClient:{active:!1,address_1:null,address_2:null,city:null,id:1,name:"Unknown Client",state:null,zip:null}}},watch:{customers:{handler:function(e){},deep:!0},"form.customer_id":{handler:function(e){if(void 0!=e){var t=_.find(this.customers,function(t){return t.id===e});this.clients=t.clients,_.remove(this.clients,{id:1}),this.clients.unshift(this.unknownClient),this.form.customer_name=t.name,this.form.client_name=null,this.form.client_id=null,e,t.name}else this.clients=[],this.clients.push(this.unknownClient),this.form.customer_id=null,this.form.customer_name=null,this.form.client_name=null,this.form.client_id=null},deep:!1},"form.client_name":{handler:function(e){if(null!=e||void 0!=e){if(this.clients.length>0){var t=_.find(this.clients,function(t){return t.name==e});void 0!=t&&(this.form.client_name=t.name,this.form.client_id=t.id,t.id,t.name)}}else this.form.client_id=null,this.form.client_name=null},deep:!1}},mounted:function(){this.fetchCustomersClient(),this.fetchMisc()},methods:{fetchCustomersClient:function(){var e=this;axios.get(route("api.misc.getCustomers")).then(function(t){console.log("customers",t.data.data),e.customers=t.data.data})},fetchMisc:function(){var e=this;axios.get(route("api.misc.edit",{misc:this.id})).then(function(t){console.log(t.data),e.form.client_id=t.data.data.client_id,e.form.customer_id=t.data.data.customer_id,e.form.customer_name=t.data.data.customer_name,e.form.invoice_date=t.data.data.invoice_date,e.form.amount=t.data.data.amount,e.form.notes=t.data.data.notes,setTimeout(function(){e.form.client_name=t.data.data.client_name},1e3)})},submit:function(){var e=this;this.$validator.validateAll().then(function(t){t?e.updateMisc():l.a.mixin({confirmButtonClass:"v-btn blue-grey  subheading white--text",buttonsStyling:!1})({title:"Validation Error",html:'<p class="title">Please Fix Form Errors</p>',type:"warning",confirmButtonText:"Back"})})},updateMisc:function(){var e=this;e.form.busy=!0,e.form.post(route("api.misc.update",{misc:e.id}),e.form).then(function(t){console.log(t.data),e.$validator.reset(),l.a.mixin({confirmButtonClass:"v-btn blue-grey  subheading white--text",buttonsStyling:!1})({title:"Success!",html:'<p class="title">Miscellaneous Has Been updated!</p>',type:"success",confirmButtonText:"Ok"}),e.$nextTick(function(){return e.$router.push({name:"misc"})})}).catch(function(e){console.log(e.response.data),l.a.mixin({confirmButtonClass:"v-btn blue-grey  subheading white--text",buttonsStyling:!1})({title:"Validation Error!",html:'<p class="title">Please Complete Form To Submit!</p>',type:"error",confirmButtonText:"Ok"})})},redirectBack:function(){var e=this;e.$nextTick(function(){return e.$router.push({name:"misc"})})}}}},"2gGM":function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./",r(r.s=0)}({0:function(e,t,r){e.exports=r("lVK7")},OMN4:function(e,t){e.exports=r("mtWM")},lVK7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("OMN4"),o=r.n(n);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(null===e||"object"!==s(e))return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(r){t[r]=i(e[r])}),t}function a(e){return Array.isArray(e)?e:[e]}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}var t,r,n;return t=e,(r=[{key:"set",value:function(e,t){var r,n,o;"object"===u(e)?this.errors=e:this.set(l({},this.errors,(r={},n=e,o=a(t),n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r)))}},{key:"all",value:function(){return this.errors}},{key:"has",value:function(e){return this.errors.hasOwnProperty(e)}},{key:"hasAny",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.some(function(t){return e.has(t)})}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"get",value:function(e){if(this.has(e))return this.getAll(e)[0]}},{key:"getAll",value:function(e){return a(this.errors[e]||[])}},{key:"only",value:function(){for(var e=this,t=[],r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.forEach(function(r){var n=e.get(r);n&&t.push(n)}),t}},{key:"flatten",value:function(){return Object.values(this.errors).reduce(function(e,t){return e.concat(t)},[])}},{key:"clear",value:function(e){var t=this,r={};e&&Object.keys(this.errors).forEach(function(n){n!==e&&(r[n]=t.errors[n])}),this.set(r)}}])&&c(t.prototype,r),n&&c(t,n),e}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.busy=!1,this.successful=!1,this.errors=new f,this.originalData=i(t),Object.assign(this,t)}var t,r,n;return t=e,(r=[{key:"fill",value:function(e){var t=this;this.keys().forEach(function(r){t[r]=e[r]})}},{key:"data",value:function(){var e=this;return this.keys().reduce(function(t,r){return d({},t,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,e[r]))},{})}},{key:"keys",value:function(){return Object.keys(this).filter(function(t){return!e.ignore.includes(t)})}},{key:"startProcessing",value:function(){this.errors.clear(),this.busy=!0,this.successful=!1}},{key:"finishProcessing",value:function(){this.busy=!1,this.successful=!0}},{key:"clear",value:function(){this.errors.clear(),this.successful=!1}},{key:"reset",value:function(){var t=this;Object.keys(this).filter(function(t){return!e.ignore.includes(t)}).forEach(function(e){t[e]=i(t.originalData[e])})}},{key:"get",value:function(e){return this.submit("get",e)}},{key:"post",value:function(e){return this.submit("post",e)}},{key:"patch",value:function(e){return this.submit("patch",e)}},{key:"put",value:function(e){return this.submit("put",e)}},{key:"delete",value:function(e){return this.submit("delete",e)}},{key:"submit",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.startProcessing();var s="get"===e?{params:this.data()}:this.data();return new Promise(function(i,a){o.a.request(d({url:r.route(t),method:e,data:s},n)).then(function(e){r.finishProcessing(),i(e)}).catch(function(e){r.busy=!1,e.response&&r.errors.set(r.extractErrors(e.response)),a(e)})})}},{key:"extractErrors",value:function(t){return t.data&&"object"===m(t.data)?t.data.errors?d({},t.data.errors):t.data.message?{error:t.data.message}:d({},t.data):{error:e.errorMessage}}},{key:"route",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;return e.routes.hasOwnProperty(t)&&(n=decodeURI(e.routes[t])),"object"!==m(r)&&(r={id:r}),Object.keys(r).forEach(function(e){n=n.replace("{".concat(e,"}"),r[e])}),n}},{key:"onKeydown",value:function(e){e.target.name&&this.errors.clear(e.target.name)}}])&&v(t.prototype,r),n&&v(t,n),e}();h.routes={},h.errorMessage="Something went wrong. Please try again.",h.ignore=["busy","successful","errors","originalData"];var p=h;function y(e,t,r,n,o,s,i,a){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId=s),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=u):o&&(u=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(e,t){return u.call(t),f(e,t)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,u):[u]}return{exports:e,options:c}}var _=y({name:"has-error",props:{form:{type:Object,required:!0},field:{type:String,required:!0}}},function(){var e=this.$createElement,t=this._self._c||e;return this.form.errors.has(this.field)?t("div",{staticClass:"help-block invalid-feedback",domProps:{innerHTML:this._s(this.form.errors.get(this.field))}}):this._e()},[],!1,null,null,null).exports,b={props:{form:{type:Object,required:!0},dismissible:{type:Boolean,default:!0}},methods:{dismiss:function(){this.dismissible&&this.form.clear()}}},g=y({name:"alert-error",extends:b,props:{message:{type:String,default:"There were some problems with your input."}}},function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.form.errors.any()?r("div",{staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[e.dismissible?r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.dismiss}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]):e._e(),e._v(" "),e._t("default",[e.form.errors.has("error")?r("div",{domProps:{innerHTML:e._s(e.form.errors.get("error"))}}):r("div",{domProps:{innerHTML:e._s(e.message)}})])],2):e._e()},[],!1,null,null,null).exports,x=y({name:"alert-errors",extends:b,props:{message:{type:String,default:"There were some problems with your input."}}},function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.form.errors.any()?r("div",{staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[e.dismissible?r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.dismiss}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]):e._e(),e._v(" "),e.message?r("div",{domProps:{innerHTML:e._s(e.message)}}):e._e(),e._v(" "),r("ul",e._l(e.form.errors.flatten(),function(t){return r("li",{domProps:{innerHTML:e._s(t)}})}))]):e._e()},[],!1,null,null,null).exports,k=y({name:"alert-success",extends:b,props:{message:{type:String,default:""}}},function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.form.successful?r("div",{staticClass:"alert alert-success alert-dismissible",attrs:{role:"alert"}},[e.dismissible?r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.dismiss}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]):e._e(),e._v(" "),e._t("default",[r("div",{domProps:{innerHTML:e._s(e.message)}})])],2):e._e()},[],!1,null,null,null).exports;r.d(t,"Form",function(){return p}),r.d(t,"Errors",function(){return f}),r.d(t,"HasError",function(){return _}),r.d(t,"AlertError",function(){return g}),r.d(t,"AlertErrors",function(){return x}),r.d(t,"AlertSuccess",function(){return k}),r.d(t,"default",function(){return p})}})},"2yrZ":function(e,t,r){var n=r("VU/8")(null,r("tfR4"),!1,null,null,null);e.exports=n.exports},"G+mJ":function(e,t,r){var n=r("VU/8")(r("10kX"),r("NNSd"),!1,null,null,null);e.exports=n.exports},NNSd:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal-layout",{staticClass:"white"},[r("v-card",{attrs:{flat:!0}},[r("v-toolbar",{staticClass:"primary",attrs:{fixed:"",app:""}},[r("v-btn",{attrs:{flat:"",icon:"",color:"white"},nativeOn:{click:function(t){e.redirectBack()}}},[r("v-icon",[e._v("arrow_back")])],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-toolbar-title",{staticClass:"text-xs-center white--text"},[e._v("Edit Miscellaneous ID# "+e._s(e.id))]),e._v(" "),r("v-spacer"),e._v(" "),r("v-toolbar-items",[r("v-btn",{attrs:{loading:e.form.busy,disabled:e.errors.any()||e.form.busy,flat:"",color:"white"},nativeOn:{click:function(t){e.submit()}}},[e._v("\n          Save\n          "),r("v-icon",{attrs:{right:""}},[e._v("save")])],1)],1)],1),e._v(" "),r("v-layout",{attrs:{row:"",wrap:"","my-0":"","py-0":"","mx-3":"","px-3":""}},[r("v-flex",{attrs:{xs12:"",lg5:"","offset-lg1":""}},[r("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"error--text":e.hasErrors("customer")},attrs:{items:e.customers,"error-messages":e.errorMessages("customer"),"item-text":"name","item-value":"id",required:"",label:"Choose Customer",light:"",chips:"","prepend-icon":"supervised_user_circle","data-vv-name":"customer"},model:{value:e.form.customer_id,callback:function(t){e.$set(e.form,"customer_id",t)},expression:"form.customer_id"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg5:""}},[r("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"error--text":e.hasErrors("client")},attrs:{items:e.clients,"error-messages":e.errorMessages("client"),"item-text":"name","item-value":"name",chips:"",light:"",dense:"",required:"",label:"Choose Client or Type Name","prepend-icon":"fa-users","data-vv-name":"client"},model:{value:e.form.client_name,callback:function(t){e.$set(e.form,"client_name",t)},expression:"form.client_name"}})],1),e._v(" "),r("v-flex",{staticStyle:{"margin-top":"-10px"},attrs:{xs12:"",lg5:"","offset-lg1":""}},[r("v-dialog",{ref:"invoice_date",attrs:{"return-value":e.form.invoice_date,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){e.$set(e.form,"invoice_date",t)}},model:{value:e.invoice_date_modal,callback:function(t){e.invoice_date_modal=t},expression:"invoice_date_modal"}},[r("v-text-field",{staticStyle:{"margin-top":"26px"},attrs:{slot:"activator",label:"Delivery Date","prepend-icon":"event_available",readonly:""},slot:"activator",model:{value:e.form.invoice_date,callback:function(t){e.$set(e.form,"invoice_date",t)},expression:"form.invoice_date"}}),e._v(" "),r("v-date-picker",{attrs:{scrollable:""},model:{value:e.form.invoice_date,callback:function(t){e.$set(e.form,"invoice_date",t)},expression:"form.invoice_date"}},[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.invoice_date_modal=!1}}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.$refs.invoice_date.save(e.form.invoice_date)}}},[e._v("OK")])],1)],1)],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg5:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,decimal:4,min_value:0},expression:"{ required: true,decimal:4, min_value:0 }"}],class:{"error--text":e.hasErrors("amount")},attrs:{"error-messages":e.errorMessages("amount"),light:"",label:"Amount","prepend-icon":"attach_money",suffix:"USD","data-vv-name":"amount"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1)],1),e._v(" "),r("v-layout",{attrs:{row:"",wrap:"","my-0":"","py-0":"","mx-3":"","px-3":""}},[r("v-flex",{attrs:{xs10:"","offset-xs1":""}},[r("v-subheader",[e._v("\n          Notes:\n        ")]),e._v(" "),r("v-textarea",{attrs:{counter:"",maxlength:"255","full-width":"",outline:"",hint:"(Optional)","persistent-hint":""},model:{value:e.form.notes,callback:function(t){e.$set(e.form,"notes",t)},expression:"form.notes"}})],1)],1)],1)],1)},staticRenderFns:[]}},gvVL:function(e,t,r){"use strict";t.a={methods:{errorMessages:function(e){return this.errors.collect(e).concat(this.form.errors.only(e))},hasErrors:function(e){return this.errors.collect(e).concat(this.form.errors.only(e)).length>0}}}},tfR4:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{standalone:""}},[t("v-content",{staticClass:"white"},[t("v-container",{staticClass:"pa-0 ma-0",attrs:{transition:"slide-x-transition",fluid:""}},[t("v-card",{attrs:{flat:!0}},[this._t("toolbar"),this._v(" "),this._t("default")],2)],1),this._v(" "),this._t("footer")],2)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=34.js.map