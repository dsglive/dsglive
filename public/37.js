webpackJsonp([37],{"2gGM":function(e,t,r){e.exports=function(e){var t={};function r(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./",r(r.s=0)}({0:function(e,t,r){e.exports=r("lVK7")},OMN4:function(e,t){e.exports=r("mtWM")},lVK7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("OMN4"),a=r.n(s);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){if(null===e||"object"!==i(e))return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(r){t[r]=o(e[r])}),t}function n(e){return Array.isArray(e)?e:[e]}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}var t,r,s;return t=e,(r=[{key:"set",value:function(e,t){var r,s,a;"object"===c(e)?this.errors=e:this.set(l({},this.errors,(r={},s=e,a=n(t),s in r?Object.defineProperty(r,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[s]=a,r)))}},{key:"all",value:function(){return this.errors}},{key:"has",value:function(e){return this.errors.hasOwnProperty(e)}},{key:"hasAny",value:function(){for(var e=this,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return r.some(function(t){return e.has(t)})}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"get",value:function(e){if(this.has(e))return this.getAll(e)[0]}},{key:"getAll",value:function(e){return n(this.errors[e]||[])}},{key:"only",value:function(){for(var e=this,t=[],r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return s.forEach(function(r){var s=e.get(r);s&&t.push(s)}),t}},{key:"flatten",value:function(){return Object.values(this.errors).reduce(function(e,t){return e.concat(t)},[])}},{key:"clear",value:function(e){var t=this,r={};e&&Object.keys(this.errors).forEach(function(s){s!==e&&(r[s]=t.errors[s])}),this.set(r)}}])&&u(t.prototype,r),s&&u(t,s),e}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function v(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.busy=!1,this.successful=!1,this.errors=new d,this.originalData=o(t),Object.assign(this,t)}var t,r,s;return t=e,(r=[{key:"fill",value:function(e){var t=this;this.keys().forEach(function(r){t[r]=e[r]})}},{key:"data",value:function(){var e=this;return this.keys().reduce(function(t,r){return f({},t,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,e[r]))},{})}},{key:"keys",value:function(){return Object.keys(this).filter(function(t){return!e.ignore.includes(t)})}},{key:"startProcessing",value:function(){this.errors.clear(),this.busy=!0,this.successful=!1}},{key:"finishProcessing",value:function(){this.busy=!1,this.successful=!0}},{key:"clear",value:function(){this.errors.clear(),this.successful=!1}},{key:"reset",value:function(){var t=this;Object.keys(this).filter(function(t){return!e.ignore.includes(t)}).forEach(function(e){t[e]=o(t.originalData[e])})}},{key:"get",value:function(e){return this.submit("get",e)}},{key:"post",value:function(e){return this.submit("post",e)}},{key:"patch",value:function(e){return this.submit("patch",e)}},{key:"put",value:function(e){return this.submit("put",e)}},{key:"delete",value:function(e){return this.submit("delete",e)}},{key:"submit",value:function(e,t){var r=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.startProcessing();var i="get"===e?{params:this.data()}:this.data();return new Promise(function(o,n){a.a.request(f({url:r.route(t),method:e,data:i},s)).then(function(e){r.finishProcessing(),o(e)}).catch(function(e){r.busy=!1,e.response&&r.errors.set(r.extractErrors(e.response)),n(e)})})}},{key:"extractErrors",value:function(t){return t.data&&"object"===m(t.data)?t.data.errors?f({},t.data.errors):t.data.message?{error:t.data.message}:f({},t.data):{error:e.errorMessage}}},{key:"route",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t;return e.routes.hasOwnProperty(t)&&(s=decodeURI(e.routes[t])),"object"!==m(r)&&(r={id:r}),Object.keys(r).forEach(function(e){s=s.replace("{".concat(e,"}"),r[e])}),s}},{key:"onKeydown",value:function(e){e.target.name&&this.errors.clear(e.target.name)}}])&&v(t.prototype,r),s&&v(t,s),e}();p.routes={},p.errorMessage="Something went wrong. Please try again.",p.ignore=["busy","successful","errors","originalData"];var _=p;function h(e,t,r,s,a,i,o,n){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),s&&(u.functional=!0),i&&(u._scopeId=i),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):a&&(c=n?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(e,t){return c.call(t),d(e,t)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,c):[c]}return{exports:e,options:u}}var g=h({name:"has-error",props:{form:{type:Object,required:!0},field:{type:String,required:!0}}},function(){var e=this.$createElement,t=this._self._c||e;return this.form.errors.has(this.field)?t("div",{staticClass:"help-block invalid-feedback",domProps:{innerHTML:this._s(this.form.errors.get(this.field))}}):this._e()},[],!1,null,null,null).exports,y={props:{form:{type:Object,required:!0},dismissible:{type:Boolean,default:!0}},methods:{dismiss:function(){this.dismissible&&this.form.clear()}}},x=h({name:"alert-error",extends:y,props:{message:{type:String,default:"There were some problems with your input."}}},function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.form.errors.any()?r("div",{staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[e.dismissible?r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.dismiss}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]):e._e(),e._v(" "),e._t("default",[e.form.errors.has("error")?r("div",{domProps:{innerHTML:e._s(e.form.errors.get("error"))}}):r("div",{domProps:{innerHTML:e._s(e.message)}})])],2):e._e()},[],!1,null,null,null).exports,b=h({name:"alert-errors",extends:y,props:{message:{type:String,default:"There were some problems with your input."}}},function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.form.errors.any()?r("div",{staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[e.dismissible?r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.dismiss}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]):e._e(),e._v(" "),e.message?r("div",{domProps:{innerHTML:e._s(e.message)}}):e._e(),e._v(" "),r("ul",e._l(e.form.errors.flatten(),function(t){return r("li",{domProps:{innerHTML:e._s(t)}})}))]):e._e()},[],!1,null,null,null).exports,k=h({name:"alert-success",extends:y,props:{message:{type:String,default:""}}},function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.form.successful?r("div",{staticClass:"alert alert-success alert-dismissible",attrs:{role:"alert"}},[e.dismissible?r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.dismiss}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]):e._e(),e._v(" "),e._t("default",[r("div",{domProps:{innerHTML:e._s(e.message)}})])],2):e._e()},[],!1,null,null,null).exports;r.d(t,"Form",function(){return _}),r.d(t,"Errors",function(){return d}),r.d(t,"HasError",function(){return g}),r.d(t,"AlertError",function(){return x}),r.d(t,"AlertErrors",function(){return b}),r.d(t,"AlertSuccess",function(){return k}),r.d(t,"default",function(){return _})}})},"2yrZ":function(e,t,r){var s=r("VU/8")(null,r("tfR4"),!1,null,null,null);e.exports=s.exports},Svc4:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal-layout",{staticClass:"white"},[r("v-card",{attrs:{flat:!0}},[r("v-toolbar",{staticClass:"primary",attrs:{fixed:"",app:""}},[r("v-btn",{attrs:{flat:"",icon:"",color:"white"},nativeOn:{click:function(t){e.redirectBack()}}},[r("v-icon",[e._v("arrow_back")])],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-toolbar-title",{staticClass:"text-xs-center white--text"},[e._v("Create New Ticket")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-toolbar-items",[r("v-btn",{attrs:{loading:e.form.busy,disabled:e.errors.any()||e.form.busy,flat:"",color:"white"},nativeOn:{click:function(t){e.submit()}}},[e._v("\n          Save\n          "),r("v-icon",{attrs:{right:""}},[e._v("save")])],1)],1)],1),e._v(" "),r("v-layout",{attrs:{row:"",wrap:"","my-0":"","py-0":"","mx-3":"","px-3":""}},[r("v-flex",{attrs:{xs12:"",lg2:"","offset-lg1":""}},[r("v-subheader",{staticClass:"indigo--text",staticStyle:{"margin-left":"-15px"}},[e._v("\n          What Type Of Ticket Is This?\n        ")]),e._v(" "),r("v-radio-group",{staticStyle:{"margin-top":"-15px"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[r("v-radio",{attrs:{value:"delivery_ticket",label:"Delivery Ticket"}}),e._v(" "),r("v-radio",{attrs:{value:"field_transfer",label:"Field Transfer"}})],1)],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg3:""}},[r("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"error--text":e.hasErrors("customer")},attrs:{items:e.customers,"error-messages":e.errorMessages("customer"),"item-text":"name","item-value":"id",required:"",label:"Choose Customer",light:"",chips:"","prepend-icon":"supervised_user_circle","data-vv-name":"customer"},model:{value:e.form.customer_id,callback:function(t){e.$set(e.form,"customer_id",t)},expression:"form.customer_id"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg3:""}},[r("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"error--text":e.hasErrors("client")},attrs:{items:e.clients,"error-messages":e.errorMessages("client"),"item-text":"name","item-value":"name",chips:"",light:"",dense:"",required:"",label:"Choose Client or Type Name","prepend-icon":"fa-users","data-vv-name":"client"},model:{value:e.form.client_name,callback:function(t){e.$set(e.form,"client_name",t)},expression:"form.client_name"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-dialog",{ref:"date_delivered",attrs:{"return-value":e.form.date_delivered,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){e.$set(e.form,"date_delivered",t)}},model:{value:e.date_delivered_modal,callback:function(t){e.date_delivered_modal=t},expression:"date_delivered_modal"}},[r("v-text-field",{staticStyle:{"margin-top":"26px"},attrs:{slot:"activator",label:"Delivery Date","prepend-icon":"event_available",readonly:""},slot:"activator",model:{value:e.form.date_delivered,callback:function(t){e.$set(e.form,"date_delivered",t)},expression:"form.date_delivered"}}),e._v(" "),r("v-date-picker",{attrs:{scrollable:""},model:{value:e.form.date_delivered,callback:function(t){e.$set(e.form,"date_delivered",t)},expression:"form.date_delivered"}},[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.date_delivered_modal=!1}}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.$refs.date_delivered.save(e.form.date_delivered)}}},[e._v("OK")])],1)],1)],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:"","offset-lg1":""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{regex:/^(((([0-1][0-9])|(2[0-3])):?[0-5][0-9])|(24:?00))$/},expression:"{ regex:/^(((([0-1][0-9])|(2[0-3])):?[0-5][0-9])|(24:?00))$/}"}],class:{"error--text":e.hasErrors("start_time")},attrs:{"error-messages":e.errorMessages("start_time"),light:"",label:"Start Time","prepend-icon":"timer","data-vv-name":"start_time"},model:{value:e.form.start_time,callback:function(t){e.$set(e.form,"start_time",t)},expression:"form.start_time"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{regex:/^(((([0-1][0-9])|(2[0-3])):?[0-5][0-9])|(24:?00))$/,min_value:e.form.start_time},expression:"{ regex:/^(((([0-1][0-9])|(2[0-3])):?[0-5][0-9])|(24:?00))$/,min_value:form.start_time}"}],class:{"error--text":e.hasErrors("end_time")},attrs:{"error-messages":e.errorMessages("end_time"),light:"",label:"End Time","prepend-icon":"timer","data-vv-name":"end_time"},model:{value:e.form.end_time,callback:function(t){e.$set(e.form,"end_time",t)},expression:"form.end_time"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{decimal:4,min_value:0},expression:"{ decimal:4, min_value:0 }"}],class:{"error--text":e.hasErrors("prep_time")},attrs:{"error-messages":e.errorMessages("prep_time"),light:"",label:"Prep Time","prepend-icon":"access_time","data-vv-name":"prep_time"},model:{value:e.form.prep_time,callback:function(t){e.$set(e.form,"prep_time",t)},expression:"form.prep_time"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{decimal:4,min_value:0},expression:"{ decimal:4, min_value:0 }"}],class:{"error--text":e.hasErrors("travel_time")},attrs:{"error-messages":e.errorMessages("travel_time"),light:"",label:"Travel Time","prepend-icon":"access_time","data-vv-name":"travel_time"},model:{value:e.form.travel_time,callback:function(t){e.$set(e.form,"travel_time",t)},expression:"form.travel_time"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{decimal:4,min_value:0},expression:"{ decimal:4, min_value:0 }"}],class:{"error--text":e.hasErrors("clean_up_time")},attrs:{"error-messages":e.errorMessages("clean_up_time"),light:"",label:"Clean Up Time","prepend-icon":"access_time","data-vv-name":"clean_up_time"},model:{value:e.form.clean_up_time,callback:function(t){e.$set(e.form,"clean_up_time",t)},expression:"form.clean_up_time"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:"","offset-lg1":""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{decimal:4,min_value:0},expression:"{ decimal:4, min_value:0 }"}],class:{"error--text":e.hasErrors("total_time")},attrs:{"error-messages":e.errorMessages("total_time"),light:"",readonly:"",disabled:"",label:"Total Time","prepend-icon":"av_timer","data-vv-name":"total_time",hint:"Total No. Of Hours","persistent-hint":""},model:{value:e.form.total_time,callback:function(t){e.$set(e.form,"total_time",t)},expression:"form.total_time"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{decimal:4,min_value:0},expression:"{ decimal:4, min_value:0 }"}],class:{"error--text":e.hasErrors("rate")},attrs:{"error-messages":e.errorMessages("rate"),light:"",label:"Rate","prepend-icon":"fa-money","data-vv-name":"rate",hint:"Delivery Charge Rate","persistent-hint":""},model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg3:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{decimal:4,min_value:0},expression:"{ decimal:4, min_value:0 }"}],class:{"error--text":e.hasErrors("surcharge")},attrs:{"error-messages":e.errorMessages("surcharge"),light:"",label:"Surchage","prepend-icon":"money","append-icon":"fa-percent","data-vv-name":"surcharge",hint:"Percentage ie. 20% = 20","persistent-hint":""},model:{value:e.form.surcharge,callback:function(t){e.$set(e.form,"surcharge",t)},expression:"form.surcharge"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg3:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{decimal:4,min_value:0},expression:"{ decimal:4, min_value:0 }"}],class:{"error--text":e.hasErrors("total_charges")},attrs:{"error-messages":e.errorMessages("total_charges"),light:"",readonly:"",disabled:"",label:"Total Charges","prepend-icon":"attach_money",suffix:"USD","data-vv-name":"total_charges",hint:"Delivery Fee","persistent-hint":""},model:{value:e.form.total_charges,callback:function(t){e.$set(e.form,"total_charges",t)},expression:"form.total_charges"}})],1)],1),e._v(" "),"field_transfer"===e.form.type?r("v-layout",{attrs:{row:"",wrap:"","my-0":"","py-0":"","mx-3":"","px-3":""}},[r("v-flex",{attrs:{xs12:"",lg10:"","offset-lg1":""}},[r("v-alert",{staticClass:"text-xs-center",attrs:{value:!0,type:"info",color:"secondary","my-0":"","py-0":"","mx-3":"","px-3":""}},[e._v("\n          Pick Up Address\n        ")])],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:"","offset-lg1":""}},[r("v-text-field",{attrs:{light:"",label:"Address 1","prepend-icon":"looks_one"},model:{value:e.form.pu_address_1,callback:function(t){e.$set(e.form,"pu_address_1",t)},expression:"form.pu_address_1"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{attrs:{light:"",label:"Address 2","prepend-icon":"looks_two"},model:{value:e.form.pu_address_2,callback:function(t){e.$set(e.form,"pu_address_2",t)},expression:"form.pu_address_2"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{attrs:{light:"",label:"City","prepend-icon":"location_city"},model:{value:e.form.pu_city,callback:function(t){e.$set(e.form,"pu_city",t)},expression:"form.pu_city"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{attrs:{light:"",label:"State","prepend-icon":"map"},model:{value:e.form.pu_state,callback:function(t){e.$set(e.form,"pu_state",t)},expression:"form.pu_state"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{regex:/^\d{5}(?:[-\s]\d{4})?$/},expression:"{ regex: /^\\d{5}(?:[-\\s]\\d{4})?$/ }"}],class:{"error--text":e.hasErrors("pu_zip")},attrs:{"error-messages":e.errorMessages("pu_zip"),light:"",label:"Zip","prepend-icon":"markunread_mailbox","data-vv-name":"pu_zip"},model:{value:e.form.pu_zip,callback:function(t){e.$set(e.form,"pu_zip",t)},expression:"form.pu_zip"}})],1)],1):e._e(),e._v(" "),r("v-layout",{attrs:{row:"",wrap:"","my-0":"","py-0":"","mx-3":"","px-3":""}},[r("v-flex",{attrs:{xs12:"",lg10:"","offset-lg1":""}},[r("span",{staticClass:"text-xs-center title"}),e._v(" "),r("v-alert",{staticClass:"text-xs-center",attrs:{value:!0,type:"info",color:"secondary","my-0":"","py-0":"","mx-3":"","px-3":""}},[e._v("\n          Drop Off Address\n        ")])],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:"","offset-lg1":""}},[r("v-text-field",{attrs:{light:"",label:"Address 1","prepend-icon":"looks_one"},model:{value:e.form.do_address_1,callback:function(t){e.$set(e.form,"do_address_1",t)},expression:"form.do_address_1"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{attrs:{light:"",label:"Address 2","prepend-icon":"looks_two"},model:{value:e.form.do_address_2,callback:function(t){e.$set(e.form,"do_address_2",t)},expression:"form.do_address_2"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{attrs:{light:"",label:"City","prepend-icon":"location_city"},model:{value:e.form.do_city,callback:function(t){e.$set(e.form,"do_city",t)},expression:"form.do_city"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{attrs:{light:"",label:"State","prepend-icon":"map"},model:{value:e.form.do_state,callback:function(t){e.$set(e.form,"do_state",t)},expression:"form.do_state"}})],1),e._v(" "),r("v-flex",{attrs:{xs12:"",lg2:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{regex:/^\d{5}(?:[-\s]\d{4})?$/},expression:"{ regex: /^\\d{5}(?:[-\\s]\\d{4})?$/ }"}],class:{"error--text":e.hasErrors("do_zip")},attrs:{"error-messages":e.errorMessages("do_zip"),light:"",label:"Zip","prepend-icon":"markunread_mailbox","data-vv-name":"do_zip"},model:{value:e.form.do_zip,callback:function(t){e.$set(e.form,"do_zip",t)},expression:"form.do_zip"}})],1)],1),e._v(" "),"delivery_ticket"===e.form.type?r("v-layout",{attrs:{row:"",wrap:"","my-0":"","py-0":"","mx-3":"","px-3":""}},[r("v-flex",{attrs:{xs10:"","offset-xs1":""}},[r("v-subheader",[e._v("\n          Packages To Be Delivered ("+e._s(e.packages.length)+")\n        ")]),e._v(" "),e.packages.length>0?r("v-btn",{attrs:{color:"secondary"},on:{click:e.toggleAll}},[0===e.selected.length?r("span",[e._v("Select All")]):r("span",[e._v("Unselect All")])]):e._e(),e._v(" "),r("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"error--text":e.hasErrors("packages")},attrs:{items:e.packages,"error-messages":e.errorMessages("packages"),"item-text":e.getText,"item-value":"id",hint:"Choose Packages To Be Delivered","persistent-hint":"","no-data-text":"No Client's Packages For Delivery",required:"","max-height":"auto",light:"",outline:"",tags:"",chips:"","deletable-chips":"","full-width":"",multiple:"","multi-line":"",dense:"",auto:"","hide-selected":"","small-chips":"",clearable:"","data-vv-name":"packages"},model:{value:e.form.packages,callback:function(t){e.$set(e.form,"packages",t)},expression:"form.packages"}})],1)],1):e._e(),e._v(" "),r("v-layout",{attrs:{row:"",wrap:"","my-0":"","py-0":"","mx-3":"","px-3":""}},[r("v-flex",{attrs:{xs10:"","offset-xs1":""}},[r("v-subheader",[e._v("\n          Notes:\n        ")]),e._v(" "),r("v-textarea",{attrs:{counter:"",maxlength:"255","full-width":"",outline:"",hint:"(Optional)","persistent-hint":""},model:{value:e.form.notes,callback:function(t){e.$set(e.form,"notes",t)},expression:"form.notes"}})],1)],1)],1)],1)},staticRenderFns:[]}},gvVL:function(e,t,r){"use strict";t.a={methods:{errorMessages:function(e){return this.errors.collect(e).concat(this.form.errors.only(e))},hasErrors:function(e){return this.errors.collect(e).concat(this.form.errors.only(e)).length>0}}}},kJvM:function(e,t,r){var s=r("VU/8")(r("mz3b"),r("Svc4"),!1,null,null,null);e.exports=s.exports},mz3b:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("2yrZ"),a=r.n(s),i=r("gvVL"),o=r("2gGM"),n=(r.n(o),r("e7x4")),l=r.n(n);t.default={components:{ModalLayout:a.a},mixins:[i.a],data:function(){return{form:new o.Form({type:!1,client_id:null,client_name:null,customer_id:null,customer_name:null,date_delivered:null,start_time:"",end_time:"",prep_time:0,travel_time:0,clean_up_time:0,total_time:0,rate:"",surcharge:0,total_charges:"",notes:null,do_address_1:null,do_address_2:null,do_city:null,do_state:null,do_zip:null,pu_address_1:null,pu_address_2:null,pu_city:null,pu_state:null,pu_zip:null,packages:[]}),date_delivered_modal:!1,customers:[],clients:[],client:{id:null,active:!1,name:null,do_address_1:null,do_address_2:null,do_city:null,do_state:null,do_zip:null},packages:[],selected:[],unknownClient:{active:!1,address_1:null,address_2:null,city:null,id:1,name:"Unknown Client",state:null,zip:null}}},watch:{customers:{handler:function(e){},deep:!0},"form.customer_id":{handler:function(e){if(void 0!=e){var t=_.find(this.customers,function(t){return t.id===e});this.clients=t.clients,_.remove(this.clients,{id:1}),this.clients.unshift(this.unknownClient),this.form.customer_name=t.name,this.form.client_name=null,this.form.client_id=null,e,t.name}else this.clients=[],this.clients.push(this.unknownClient),this.form.customer_id=null,this.form.customer_name=null,this.form.client_name=null,this.form.client_id=null},deep:!1},"form.client_name":{handler:function(e){if(null!=e||void 0!=e){if(this.clients.length>0){var t=_.find(this.clients,function(t){return t.name==e});void 0!=t&&(this.form.client_name=t.name,this.form.client_id=t.id,t.id,t.name,this.getClientPackages(),this.setDropOffAddress(t))}}else this.form.client_id=null,this.form.client_name=null},deep:!1},"form.start_time":{handler:function(e){this.debouncedComputeTotal()},deep:!1},"form.end_time":{handler:function(e){this.debouncedComputeTotal()},deep:!1},"form.prep_time":{handler:function(e){this.debouncedComputeTotal()},deep:!1},"form.travel_time":{handler:function(e){this.debouncedComputeTotal()},deep:!1},"form.clean_up_time":{handler:function(e){this.debouncedComputeTotal()},deep:!1},"form.rate":{handler:function(e){this.computeTotalCharge()},deep:!1},"form.surcharge":{handler:function(e){this.computeTotalCharge()},deep:!1}},created:function(){this.debouncedComputeTotal=_.debounce(this.computeTotal,2e3)},mounted:function(){this.getInitialData(),this.form.date_delivered=moment().format("YYYY-MM-DD"),this.form.type="field_transfer"},methods:{toggleAll:function(){0===this.selected.length?this.selected=this.packages.map(function(e){return e.id}):this.selected=[],this.form.packages=this.selected},workingTime:function(){var e=this.form.start_time,t=this.form.end_time,r=0,s=0,a=0,i=0;if(null!==e){var o=(e.match(/\d/g)||[]).length;o>1&&(r=parseInt(e.substring(0,2))),o>3&&(s=parseInt(e.substring(2,4)))}if(null!==t){var n=(t.match(/\d/g)||[]).length;n>1&&(a=parseInt(t.substring(0,2))),n>3&&(i=parseInt(t.substring(2,4)))}var l=0,c=0;return(l=a-r)<0&&(l=0),(c=Math.abs(i-s)/60)<0&&(c=0),l+c},setDropOffAddress:function(e){this.client={id:e.id,active:e.active,name:e.name,do_address_1:e.address_1,do_address_2:e.address_2,do_city:e.city,do_state:e.state,do_zip:e.zip},this.form.do_address_1=e.address_1,this.form.do_address_2=e.address_2,this.form.do_city=e.city,this.form.do_state=e.state,this.form.do_zip=e.zip},computeTotal:function(){var e=this.workingTime(),t=this.form.prep_time?this.form.prep_time:0,r=this.form.travel_time?this.form.travel_time:0,s=this.form.clean_up_time?this.form.clean_up_time:0;console.log("working_time",parseFloat(e)),console.log("prep_time",parseFloat(t)),console.log("travel_time",parseFloat(r)),console.log("clean_up_time",parseFloat(s));var a=0;return a+=parseFloat(e),a+=parseFloat(t),a+=parseFloat(r),(a+=parseFloat(s))<0&&(a=0),this.form.total_time=a.toFixed(4),a},computeTotalCharge:function(){var e=parseFloat(this.form.total_time),t=parseFloat(this.form.rate),r=parseFloat(this.form.surcharge)/100;null!==this.form.surcharge&&""!==this.form.surcharge||(r=0);var s=e*t,a=0;a=s+r*s,this.form.total_charges=a.toFixed(4)},getText:function(e){return"DSG# "+e.dsg_id+"|Style# "+e.style_no+"|Description: "+e.description},getInitialData:function(){var e=this;axios.get(route("api.logistics.getInitialData")).then(function(t){e.customers=t.data.data.customers})},getClientPackages:function(){var e=this;axios.get(route("api.logistics.getClientPackages",{client:this.form.client_id})).then(function(t){e.form.packages=[],e.packages=t.data})},submit:function(){var e=this;this.$validator.validateAll().then(function(t){t?e.createLogistics():l.a.mixin({confirmButtonClass:"v-btn blue-grey  subheading white--text",buttonsStyling:!1})({title:"Validation Error",html:'<p class="title">Please Fix Form Errors</p>',type:"warning",confirmButtonText:"Back"})})},createLogistics:function(){var e=this;e.form.busy=!0,"field_transfer"===e.form.type&&delete e.form.packages,"delivery_ticket"===e.form.type&&(delete e.form.pu_address_1,delete e.form.pu_address_2,delete e.form.pu_city,delete e.form.pu_state,delete e.form.pu_zip),e.form.post(route("api.logistics.create"),e.form).then(function(t){console.log(t.data),e.$validator.reset(),l.a.mixin({confirmButtonClass:"v-btn blue-grey  subheading white--text",buttonsStyling:!1})({title:"Success!",html:'<p class="title">Ticket Has Been Created!</p>',type:"success",confirmButtonText:"Ok"}),e.$nextTick(function(){return e.$router.push({name:"logistics"})})}).catch(function(t){console.log(t.response.data),"field_transfer"===e.form.type&&(e.form.packages=[]),"delivery_ticket"===e.form.type&&(e.form.pu_address_1="",e.form.pu_address_2="",e.form.pu_city="",e.form.pu_state="",e.form.pu_zip=""),l.a.mixin({confirmButtonClass:"v-btn blue-grey  subheading white--text",buttonsStyling:!1})({title:"Validation Error!",html:'<p class="title">Please Complete Form To Submit!</p>',type:"error",confirmButtonText:"Ok"})})},redirectBack:function(){var e=this;e.$nextTick(function(){return e.$router.push({name:"logistics"})})}}}},tfR4:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{standalone:""}},[t("v-content",{staticClass:"white"},[t("v-container",{staticClass:"pa-0 ma-0",attrs:{transition:"slide-x-transition",fluid:""}},[t("v-card",{attrs:{flat:!0}},[this._t("toolbar"),this._v(" "),this._t("default")],2)],1),this._v(" "),this._t("footer")],2)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=37.js.map